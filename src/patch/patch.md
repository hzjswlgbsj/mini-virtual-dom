# patch 函数的设计思路

patch 函数的主要任务是根据生成的补丁（patch）对真实的 DOM 进行更新。我们可以将其分为几个步骤：

**节点替换**: 当补丁类型为 `REPLACE` 时，用新节点替换旧节点。
**属性更新**: 当补丁类型为 `PROPS` 时，更新节点的属性。
**子节点更新**: 当补丁类型为 `CHILDREN` 时，递归地对每个子节点应用补丁。
**节点移除**: 当补丁类型为 `REMOVE` 时，移除节点。
**子节点具体更新**: 当补丁类型为 `UPDATE` 时，递归地对指定索引的子节点应用补丁。

## patch 函数的实现步骤

**1.节点替换 (REPLACE)**:

- 创建一个新的节点（可以是元素节点或文本节点）。
- 使用 replaceChild 方法将旧节点替换为新节点。

**2.属性更新 (PROPS)**:

- 遍历属性补丁对象，更新节点的属性。
- 如果属性值为 null，则移除该属性。

**3.子节点更新 (CHILDREN)**:

- 递归地对每个子节点应用补丁。
- 通过 childNodes 获取子节点数组，并应用对应的补丁。

**4.节点移除 (REMOVE)**:

- 使用 removeChild 方法移除节点。

**5.子节点具体更新 (UPDATE)**:

- 获取指定索引的子节点，递归地应用补丁。
